<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Examples - cydr</title>
    <meta name="generator" content="Hugo 0.19" />

    
    <meta name="description" content="An R package for cleaning agricultural yield data.">
    
    <link rel="canonical" href="https://jillianderson8.github.io/cydr/examples/">
    
    <meta name="author" content="Jillian Anderson">
    

    <meta property="og:url" content="https://jillianderson8.github.io/cydr/examples/">
    <meta property="og:title" content="cydr">
    
    <meta name="apple-mobile-web-app-title" content="cydr">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://jillianderson8.github.io/cydr/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://jillianderson8.github.io/cydr/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://jillianderson8.github.io/cydr/fonts/icon.eot');
        src: url('https://jillianderson8.github.io/cydr/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://jillianderson8.github.io/cydr/fonts/icon.woff')
               format('woff'),
             url('https://jillianderson8.github.io/cydr/fonts/icon.ttf')
               format('truetype'),
             url('https://jillianderson8.github.io/cydr/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://jillianderson8.github.io/cydr/stylesheets/application.css">
    <link rel="stylesheet" href="https://jillianderson8.github.io/cydr/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://jillianderson8.github.io/cydr/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://jillianderson8.github.io/cydr/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto&#43;Mono">
    <style>
      body, input {
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://jillianderson8.github.io/cydr/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-cyan palette-accent-amber">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Examples
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/jillianderson8" title="@jillianderson8 on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/jillianderson8/cydr" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>cydr </strong>
        
          <br>
          jillianderson8/cydr
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/jillianderson8/cydr/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/jillianderson8/cydr/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Home" href="https://jillianderson8.github.io/cydr/">
	
	Home
</a>



  
</li>



<li>
  
    



<a  title="Quick Start" href="https://jillianderson8.github.io/cydr/quickstart/">
	
	Quick Start
</a>



  
</li>



<li>
  
    



<a class="current" title="Examples" href="https://jillianderson8.github.io/cydr/examples/">
	
	Examples
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="Documentation" href="https://jillianderson8.github.io/cydr/documentation/">
	
	Documentation
</a>



  
</li>



<li>
  
    



<a  title="About" href="https://jillianderson8.github.io/cydr/about/">
	
	About
</a>



  
</li>



<li>
  
    



<a  title="License" href="https://jillianderson8.github.io/cydr/license/">
	
	License
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/jillianderson8" target="_blank" title="@jillianderson8 on GitHub">
              @jillianderson8 on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:jillianderson8@gmail.com" title="Email of jillianderson8@gmail.com">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Examples </h1>

			

<h2 id="importing-shapefiles-into-r">Importing Shapefiles into R</h2>

<p>Yield data is often stored within shapefiles. To import this data into an R data frame we must use the <code>rgdal</code> package. Each file must be imported individually before they can be merged into a single data frame. To do this you must provide the path to the folder containing the shapefile as well as the shapefile&rsquo;s layer. The layer is most often the name of the file without the <code>.shp</code> extension. The example below shows how to load a data contained within three shapefiles (<code>field_combine1</code>, <code>field_combine2</code>, and <code>field_combine3</code>).</p>

<pre><code># Load the rgdal package
library(rgdal)

# Import three shapefiles into R
dataset1 &lt;- readOGR(dsn=path.expand(&quot;Users/username/Desktop/Field&quot;),
                    layer = &quot;field_combine1&quot;)
dataset2 &lt;- readOGR(dsn=path.expand(&quot;Users/username/Desktop/Field&quot;),
                    layer = &quot;field_combine2&quot;)
dataset3 &lt;- readOGR(dsn=path.expand(&quot;Users/username/Desktop/Field&quot;),
                    layer = &quot;field_combine3&quot;)

# Merge shapefiles
interm_field &lt;- rbind(data.frame(dataset1), data.frame(dataset2))
field &lt;- rbind(data.frame(interm_field), data.frame(dataset3))
</code></pre>

<h2 id="cleaning-yield-data-with-defaults">Cleaning yield data with defaults</h2>

<pre><code># Load cydr
library(cydr)

# Clean data
clean_field &lt;- narrow_passes(field)
clean_field &lt;- pass_end_turns(clean_field)
clean_field &lt;- speed(clean_field)
clean_field &lt;- residual_outliers(clean_field)
</code></pre>

<h2 id="summarizing-errors">Summarizing errors</h2>

<p>Often, it is valuable to summarize the <em>cydr</em> error columns into a single column. This makes it easy to identify whether an observation is erroneous or not. This can be useful for tasks such as filtering out erroneous observations, visualizing where errors occur, and comparing errors and non-errors.</p>

<pre><code>field &lt;- field %&gt;%
  mutate(cydr_Error = cydr_NarrowPassError |
                      cydr_PassEndError |
                      cydr_SpeedError |
                      cydr_ResidualError)
 
</code></pre>

<h2 id="removing-errors">Removing Errors</h2>

<p>How you want to analyze the yield data will help determine whether or not you remove errors from the dataset or attempt to correct them. This example shows how you could remove the errors from the dataset using <code>dplyr</code>&rsquo;s <code>filter()</code> function.</p>

<pre><code># Remove errors from the dataset
field &lt;- field %&gt;%
  filter(!cydr_Error)

</code></pre>

<h2 id="plotting-a-yield-map">Plotting a Yield Map</h2>

<pre><code>ggplot(field, aes(coords.x1,
                  coords.x2,
                  colour=Yld_Vol_Dr)) +
  geom_point(alpha=0.5) +
  coord_quickmap() +
  theme_minimal() +
  scale_colour_distiller(type=&quot;div&quot;, palette=&quot;PRGn&quot;, direction=1)
</code></pre>

<h2 id="exporting-to-csv">Exporting to CSV</h2>

<p>Once <em>cydr</em> has been used to clean the yield data, data analysis can begin. Users can continue working with the data in R, or they can export it for use with other software. The example below shows how a user can export a dataframe to a CSV. Upon export, a new CSV file called <code>cleaned_field.csv</code> will be created within the current directory.</p>

<pre><code># Export to CSV
write.csv(clean_field, &quot;cleaned_field.csv&quot;)
</code></pre>


			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the GNU GPL 3.0 license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://jillianderson8.github.io/cydr/quickstart/" title="Quick Start">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Quick Start
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://jillianderson8.github.io/cydr/documentation/" title="Documentation">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Documentation
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/jillianderson8.github.io\/cydr\/';
      var repo_id  = 'jillianderson8\/cydr';
    
    </script>

    <script src="https://jillianderson8.github.io/cydr/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

